<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>рж╕рзБржкрж╛рж░ ржЕрзНржпрж╛ржк v4</title>
  <link rel="manifest" href="/manifest.json">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-color: #f4f4f4;
      --text-color: #000;
      --card-bg: #fff;
      --nav-bg: #4a5568;
      --header-bg: #2d3748;
      --button-bg: #3182ce;
      --button-hover-bg: #2b6cb0;
    }
    body.dark {
      --bg-color: #1a202c;
      --text-color: #f4f4f4;
      --card-bg: #2d3748;
      --nav-bg: #2a2e38;
      --header-bg: #12151c;
      --button-bg: #4299e1;
      --button-hover-bg: #63b3ed;
    }
    body {
      font-family: 'Noto Sans Bengali', sans-serif;
      margin: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: background-color 0.3s, color 0.3s;
    }
    header {
      background-color: var(--header-bg);
      color: white;
      padding: 15px;
      text-align: center;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    header h1 {
      margin: 0;
      flex-grow: 1;
      text-align: center;
    }
    header button {
      margin-left: 10px;
      padding: 8px 15px;
      background-color: var(--button-bg);
      border-radius: 5px;
      border: none;
      color: white;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    header button:hover {
      background-color: var(--button-hover-bg);
    }
    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      background-color: var(--nav-bg);
      padding: 5px 0;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    nav a {
      color: white;
      padding: 10px 15px;
      text-decoration: none;
      white-space: nowrap;
      transition: background-color 0.2s ease;
    }
    nav a:hover {
      background-color: var(--header-bg);
    }
    .section {
      padding: 20px;
      display: none;
    }
    .active {
      display: block;
    }
    .card {
      background: var(--card-bg);
      color: var(--text-color);
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: background 0.3s, color 0.3s;
    }
    button {
      padding: 10px 15px;
      border: none;
      background-color: var(--button-bg);
      color: white;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    button:hover {
      background-color: var(--button-hover-bg);
    }
    input[type="text"], input[type="email"], input[type="password"], textarea, select {
      background-color: var(--bg-color);
      color: var(--text-color);
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 5px;
    }
    body.dark input[type="text"], body.dark input[type="email"], body.dark input[type="password"], body.dark textarea, body.dark select {
      background-color: #3d4a5c;
      border-color: #555;
    }
    a {
      color: var(--button-bg);
      text-decoration: none;
    }
    a:hover {
      color: var(--button-hover-bg);
    }
    .video-player-container {
      background-color: #000;
      padding: 10px;
      border-radius: 8px;
      position: relative; /* For spinner positioning */
      min-height: 200px; /* Ensure space for video even if not loaded */
    }
    .channel-list-container {
      background-color: var(--card-bg);
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      max-height: 70vh;
      overflow-y: auto;
      transition: background 0.3s, color 0.3s;
    }
    .channel-list-container h4 {
      margin-bottom: 15px;
      color: var(--button-bg);
    }
    .channel-list-container .list-group-item {
      cursor: pointer;
      transition: background-color 0.2s ease, color 0.2s ease;
      background-color: var(--card-bg);
      color: var(--text-color);
      border-color: #ddd;
    }
    body.dark .channel-list-container .list-group-item {
      border-color: #444;
    }
    .channel-list-container .list-group-item:hover {
      background-color: var(--nav-bg);
      color: white;
    }
    .channel-list-container .list-group-item.active-channel {
      background-color: var(--button-bg);
      color: white;
      font-weight: bold;
    }
    .channel-list-container .list-group-item.active-channel:hover {
      background-color: var(--button-hover-bg);
    }
    .channel-list-container .list-group-item img {
        width: 30px;
        height: 30px;
        margin-right: 10px;
        border-radius: 5px;
        object-fit: contain;
    }
    .chat-message {
        background-color: var(--bg-color);
        padding: 8px 12px;
        border-radius: 15px;
        margin-bottom: 8px;
        word-wrap: break-word;
        max-width: 80%;
    }
    body.dark .chat-message {
        background-color: #3d4a5c;
    }
    .chat-message small {
        display: block;
        text-align: right;
        font-size: 0.75em;
        color: #777;
    }
    /* Spinner for video loading */
    .spinner-border {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
    }
    #streamError {
        color: red;
        font-weight: bold;
        text-align: center;
        margin-top: 10px;
        display: none; /* Hidden by default */
    }
    .video-call-container {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
    }
    .video-call-container video {
        width: 100%;
        max-width: 300px;
        border: 1px solid var(--button-bg);
        border-radius: 8px;
        background-color: black;
    }
  </style>
</head>
<body>
  <header>
    <h1>ЁЯУ▒ рж╕рзБржкрж╛рж░ ржЕрзНржпрж╛ржк (v4)</h1>
    <button onclick="toggleDarkMode()">ЁЯМЩ ржбрж╛рж░рзНржХ ржорзЛржб</button>
  </header>
  <nav>
    <a href="#" onclick="showSection('jokes')">ЁЯШВ ржЬрзЛржХрж╕</a>
    <a href="#" onclick="showSection('stories')">ЁЯУЦ ржЧрж▓рзНржк</a>
    <a href="#" onclick="showSection('news')">ЁЯУ░ ржирж┐ржЙржЬ</a>
    <a href="#" onclick="showSection('videos')">ЁЯОе ржнрж┐ржбрж┐ржУ</a>
    <a href="#" onclick="showSection('profile')">ЁЯСд ржкрзНрж░рзЛржлрж╛ржЗрж▓</a>
    <a href="#" onclick="showSection('prayer')">ЁЯХМ ржирж╛ржорж╛ржЬ</a>
    <a href="#" onclick="showSection('calendar')">ЁЯУЕ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░</a>
    <a href="#" onclick="showSection('events')">ЁЯУЭ ржЗржнрзЗржирзНржЯ ржУ ржкрзЛрж╕рзНржЯ</a>
    <a href="#" onclick="showSection('chat')">ЁЯТм ржЪрзНржпрж╛ржЯ</a>
    <a href="#" onclick="showSection('live-tv')">ЁЯУ║ рж▓рж╛ржЗржн ржЯрж┐ржнрж┐</a>
    <a href="#" onclick="showSection('call')">ЁЯУЮ ржХрж▓</a>
    <a href="#" onclick="printPage()">ЁЯЦия╕П ржкрзНрж░рж┐ржирзНржЯ</a>
  </nav>

  <div id="jokes" class="section active">
    <h2>ржмрж╛ржВрж▓рж╛ ржЬрзЛржХрж╕ (ржЕржирзБржмрж╛ржжрж┐ржд)</h2>
    <div class="card" id="joke">ржЬрзЛржХрж╕ рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</div>
    <button onclick="loadJoke()">ржирждрзБржи ржЬрзЛржХрж╕</button>
    <p class="mt-3 text-muted">ржжрзНрж░рж╖рзНржЯржмрзНржп: ржПржЗ ржЬрзЛржХрж╕ржЧрзБрж▓рзЛ ржЗржВрж░рзЗржЬрж┐ ржерзЗржХрзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржЕржирзБржмрж╛ржж ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред</p>
  </div>

  <div id="stories" class="section">
    <h2>ржмрж╛ржВрж▓рж╛ ржЧрж▓рзНржк</h2>
    <div class="card" id="story">ржЧрж▓рзНржк рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</div>
    <button onclick="loadStory()">ржирждрзБржи ржЧрж▓рзНржк</button>
  </div>

  <div id="news" class="section">
    <h2>ржмрж╛ржВрж▓рж╛ ржирж┐ржЙржЬ</h2>
    <div class="card">ЁЯФЧ <a href="https://www.bbc.com/bengali" target="_blank">BBC ржмрж╛ржВрж▓рж╛</a></div>
    <div class="card">ЁЯФЧ <a href="https://bangla.bdnews24.com" target="_blank">BDNews24 ржмрж╛ржВрж▓рж╛</a></div>
    <p class="mt-3 text-muted">ржнржмрж┐рж╖рзНржпрждрзЗ ржПржЦрж╛ржирзЗ API ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рж░рж╛рж╕рж░рж┐ ржирж┐ржЙржЬрзЗрж░ рж╢рж┐рж░рзЛржирж╛ржо ржжрзЗржЦрж╛ржирзЛ ржпрж╛ржмрзЗред</p>
  </div>

  <div id="videos" class="section">
    <h2>ржнрж┐ржбрж┐ржУ</h2>
    <div class="card">
      <iframe width="100%" height="200" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>
    </div>
    <p class="mt-3 text-muted">ржПржЦрж╛ржирзЗ ржПржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг ржнрж┐ржбрж┐ржУ ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗред ржнржмрж┐рж╖рзНржпрждрзЗ ржПржЦрж╛ржирзЗ YouTube API ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржнрж┐ржбрж┐ржУ рж╕рж╛рж░рзНржЪ ржмрж╛ ржкрзНрж▓рзЗрж▓рж┐рж╕рзНржЯ ржжрзЗржЦрж╛ржирзЛ ржпрж╛ржмрзЗред</p>
  </div>

  <div id="profile" class="section">
    <h2>ржкрзНрж░рзЛржлрж╛ржЗрж▓</h2>
    <div class="card">
      <input type="text" id="username" placeholder="ржирж╛ржо" class="form-control" style="margin-bottom:10px"><br>
      <input type="email" id="email" placeholder="ржЗржорзЗржЗрж▓" class="form-control" style="margin-bottom:10px"><br>
      <button onclick="saveProfile()">ржкрзНрж░рзЛржлрж╛ржЗрж▓ рж╕рзЗржн ржХрж░рзБржи</button>
      <div id="profileMessage" class="mt-3"></div>
    </div>
    <h3 class="mt-4">ржлрзЗржнрж╛рж░рж┐ржЯ ржЪрзНржпрж╛ржирзЗрж▓</h3>
    <ul class="list-group" id="favoriteChannels">
      </ul>
  </div>

  <div id="prayer" class="section">
    <h2>ржирж╛ржорж╛ржЬрзЗрж░ рж╕ржоржпрж╝</h2>
    <div class="card">ЁЯХУ ржлржЬрж░: рзк:рзйрзж AM</div>
    <div class="card">ЁЯХФ ржпрзЛрж╣рж░: рззрзи:рззрзл PM</div>
    <div class="card">ЁЯХХ ржЖрж╕рж░: рзк:рзжрзж PM</div>
    <div class="card">ЁЯХЦ ржорж╛ржЧрж░рж┐ржм: рзм:рзйрзж PM</div>
    <div class="card">ЁЯХЧ ржПрж╢рж╛: рзо:рзжрзж PM</div>
    <p class="mt-3 text-muted">ржнржмрж┐рж╖рзНржпрждрзЗ ржПржЦрж╛ржирзЗ API ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж╛рж░ ржПрж▓рж╛ржХрж╛рж░ ржЬржирзНржп рж╕ржарж┐ржХ ржирж╛ржорж╛ржЬрзЗрж░ рж╕ржоржпрж╝ ржжрзЗржЦрж╛ржирзЛ ржпрж╛ржмрзЗред</p>
  </div>

  <div id="calendar" class="section">
    <h2>ржЗрж╕рж▓рж╛ржорж┐ржХ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░</h2>
    <iframe src="https://www.islamicfinder.org/islamic-calendar/" width="100%" height="500" frameborder="0"></iframe>
  </div>

  <div id="events" class="section">
    <h2>ржЗржнрзЗржирзНржЯ ржУ ржкрзЛрж╕рзНржЯ ржпрзЛржЧ ржХрж░рзБржи</h2>
    <div class="card">
      <textarea id="eventContent" placeholder="ржЖржкржирж╛рж░ ржЗржнрзЗржирзНржЯ ржмрж╛ ржкрзЛрж╕рзНржЯ рж▓рж┐ржЦрзБржи..." class="form-control" style="width:100%; height: 100px; margin-bottom: 10px; padding: 10px; box-sizing: border-box;"></textarea>
      <button onclick="addEvent()">ржкрзЛрж╕рзНржЯ ржХрж░рзБржи</button>
    </div>
    <h3>рж╕ржХрж▓ ржЗржнрзЗржирзНржЯ ржУ ржкрзЛрж╕рзНржЯ</h3>
    <div id="eventList">
      </div>
  </div>

  <div id="chat" class="section">
    <h2>ржкрж┐ржпрж╝рж╛рж░-ржЯрзБ-ржкрж┐ржпрж╝рж╛рж░ ржЪрзНржпрж╛ржЯ (рж▓рзЛржХрж╛рж▓)</h2>
    <div class="card" style="margin-bottom:10px;">
        <label for="chatRoomId">ржЪрзНржпрж╛ржЯ рж░рзБржо ржЖржЗржбрж┐:</label>
        <input type="text" id="chatRoomId" placeholder="рж░рзБржо ржЖржЗржбрж┐" class="form-control" style="width: calc(100% - 100px); display: inline-block; margin-right: 5px;">
        <button onclick="joinChatRoom()">ржЬрзЯрзЗржи ржХрж░рзБржи</button>
    </div>
    <div class="card" style="height: 300px; overflow-y: auto;" id="chatBox">
      </div>
    <div class="card">
      <input type="text" id="chatInput" placeholder="ржорзЗрж╕рзЗржЬ рж▓рж┐ржЦрзБржи..." class="form-control" style="width: calc(100% - 70px); display: inline-block; margin-right: 5px;">
      <button onclick="sendMessage()">ржкрж╛ржарж╛ржи</button>
    </div>
    <p class="mt-3 text-muted">ржжрзНрж░рж╖рзНржЯржмрзНржп: ржПржЗ ржЪрзНржпрж╛ржЯ ржлрж┐ржЪрж╛рж░ржЯрж┐ ржкрж┐ржпрж╝рж╛рж░-ржЯрзБ-ржкрж┐ржпрж╝рж╛рж░ ржПржмржВ HTTPS ржмрж╛ localhost ржкрзНрж░ржпрж╝рзЛржЬржиред</p>
  </div>

  <div id="live-tv" class="section">
    <h2>ЁЯУ║ рж▓рж╛ржЗржн ржЯрж┐ржнрж┐</h2>
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-8 mb-3">
                <div class="video-player-container">
                    <video id="tvPlayer" controls autoplay style="width: 100%; height: auto; max-height: 600px;">
                        ржЖржкржирж╛рж░ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржнрж┐ржбрж┐ржУ рж╕ржорж░рзНржержи ржХрж░рзЗ ржирж╛ред
                    </video>
                    <div id="videoSpinner" class="spinner-border text-light" role="status" style="display: none;">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
                <h4 id="currentChannelName" class="mt-3 text-center">ржПржХржЯрж┐ ржЪрзНржпрж╛ржирзЗрж▓ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</h4>
                <div id="streamError" class="alert alert-danger mt-2" role="alert" style="display:none;"></div>
            </div>

            <div class="col-lg-4">
                <div class="channel-list-container">
                    <input type="text" id="channelSearch" class="form-control mb-2" placeholder="ржЪрзНржпрж╛ржирзЗрж▓ ржЦрзБржБржЬрзБржи..." onkeyup="filterChannels()">
                    <div class="mb-3">
                      <label for="channelCategory" class="form-label">ржХрзНржпрж╛ржЯрж╛ржЧрж░рж┐:</label>
                      <select id="channelCategory" class="form-select" onchange="filterChannels()">
                        <option value="all">рж╕ржм ржЪрзНржпрж╛ржирзЗрж▓</option>
                        <option value="sports">ржХрзНрж░рзАржбрж╝рж╛</option>
                        <option value="news">рж╕ржВржмрж╛ржж</option>
                        <option value="movies">рж╕рж┐ржирзЗржорж╛</option>
                        <option value="religious">ржзрж░рзНржорзАржпрж╝</option>
                        <option value="documentary">рждржерзНржпржЪрж┐рждрзНрж░</option>
                        <option value="general">рж╕рж╛ржзрж╛рж░ржг</option>
                      </select>
                    </div>
                    <ul class="list-group" id="channelList">
                        </ul>
                </div>
            </div>
        </div>
    </div>
    <p class="mt-3 text-muted">ржжрзНрж░рж╖рзНржЯржмрзНржп: рж▓рж╛ржЗржн рж╕рзНржЯрзНрж░рж┐ржо рж▓рж┐ржВржХржЧрзБрж▓рзЛ ржЕрж╕рзНржерж╛ржпрж╝рзА рж╣рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржХржкрж┐рж░рж╛ржЗржЯ рж╕ржВржХрзНрж░рж╛ржирзНржд рж╕рзАржорж╛ржмржжрзНржзрждрж╛ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред ржХрж┐ржЫрзБ рж╕рзНржЯрзНрж░рж┐ржо ржХрж╛ржЬ ржирж╛ржУ ржХрж░рждрзЗ ржкрж╛рж░рзЗред</p>
  </div>

  <div id="call" class="section">
    <h2>ржЕржбрж┐ржУ/ржнрж┐ржбрж┐ржУ ржХрж▓</h2>
    <div class="card">
      <label for="callPeerId">ржкрж┐ржпрж╝рж╛рж░ ржЖржЗржбрж┐</label>
      <input type="text" id="callPeerId" placeholder="ржкрж┐ржпрж╝рж╛рж░ ржЖржЗржбрж┐" class="form-control" style="margin-bottom:10px">
      <button onclick="startCall()" aria-label="ржХрж▓ рж╢рзБрж░рзБ ржХрж░рзБржи">ржХрж▓ рж╢рзБрж░рзБ</button>
      <div id="yourPeerId" class="mt-3">ржЖржкржирж╛рж░ ржкрж┐ржпрж╝рж╛рж░ ржЖржЗржбрж┐: <span id="peerIdDisplay">рж▓рзЛржбрж┐ржВ...</span></div>
      <div class="video-call-container mt-3">
        <video id="localVideo" autoplay muted></video>
        <video id="remoteVideo" autoplay></video>
      </div>
    </div>
    <p class="mt-3 text-muted">ржжрзНрж░рж╖рзНржЯржмрзНржп: ржХрж▓ ржлрж┐ржЪрж╛рж░рзЗрж░ ржЬржирзНржп HTTPS ржмрж╛ localhost ржкрзНрж░ржпрж╝рзЛржЬржи ржПржмржВ ржЙржнржпрж╝ ржкржХрзНрж╖ржХрзЗ ржПржХржЗ ржкрж┐ржпрж╝рж╛рж░ ржЖржЗржбрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред</p>
  </div>

  <footer class="text-center py-3 mt-3" style="background-color: var(--nav-bg); color: white;">
    <p>Authorize by (6Team)</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eP54Z5D9z/x2hBd" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/peerjs@1.5.2/dist/peerjs.min.js"></script>
  <script src="/script.js"></script>

</body>
                          </html>
